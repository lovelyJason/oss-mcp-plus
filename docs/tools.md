# MCP Tools æ–‡æ¡£

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº† OSS MCP Server æä¾›çš„æ‰€æœ‰å·¥å…· (Tools)ã€‚

> **ç»´æŠ¤è¯´æ˜**: æ¯æ¬¡æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤å·¥å…·æ—¶ï¼Œå¿…é¡»åŒæ­¥æ›´æ–°æœ¬æ–‡æ¡£ã€‚

---

## ç›®å½•

- [upload_to_oss](#upload_to_oss) - ä¸Šä¼ æ–‡ä»¶åˆ°é˜¿é‡Œäº‘ OSS
- [list_oss_configs](#list_oss_configs) - åˆ—å‡ºå¯ç”¨çš„ OSS é…ç½®
- [batch_rename_files](#batch_rename_files) - æ‰¹é‡é‡å‘½åæ–‡ä»¶
- [list_directory_files](#list_directory_files) - åˆ—å‡ºç›®å½•æ–‡ä»¶
- [download_file](#download_file) - ä» URL ä¸‹è½½æ–‡ä»¶

---

## upload_to_oss

å°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨æœåŠ¡ (OSS)ã€‚

### åŸºæœ¬ä¿¡æ¯

| å±æ€§ | å€¼ |
|------|-----|
| å·¥å…·åç§° | `upload_to_oss` |
| æè¿° | å°†æ–‡ä»¶ä¸Šä¼ åˆ°é˜¿é‡Œäº‘OSS |
| æºç ä½ç½® | [src/server.ts:50](../src/server.ts#L50) |

### å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| `filePath` | `string` | âœ… æ˜¯ | - | è¦ä¸Šä¼ çš„æœ¬åœ°æ–‡ä»¶ç»å¯¹è·¯å¾„ |
| `targetDir` | `string` | âŒ å¦ | `""` (æ ¹ç›®å½•) | OSS ä¸­çš„ç›®æ ‡ç›®å½•è·¯å¾„ |
| `fileName` | `string` | âŒ å¦ | åŸæ–‡ä»¶å | ä¸Šä¼ åçš„æ–‡ä»¶å |
| `configName` | `string` | âŒ å¦ | `"default"` | ä½¿ç”¨çš„ OSS é…ç½®åç§° |

### è¿”å›å€¼

**æˆåŠŸæ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "æ–‡ä»¶ä¸Šä¼ æˆåŠŸ!\næ–‡ä»¶å: example.png\nç›®æ ‡ä½ç½®: images/\nURL: https://bucket.oss-cn-hangzhou.aliyuncs.com/images/example.png\né…ç½®åç§°: default"
  }]
}
```

**å¤±è´¥æ—¶**:
```json
{
  "isError": true,
  "content": [{
    "type": "text",
    "text": "ä¸Šä¼ å¤±è´¥: æ–‡ä»¶ä¸å­˜åœ¨: /path/to/file.png"
  }]
}
```

### ä½¿ç”¨ç¤ºä¾‹

#### ç¤ºä¾‹ 1: åŸºç¡€ä¸Šä¼ 

```json
{
  "filePath": "/Users/jason/screenshots/demo.png"
}
```

æ–‡ä»¶å°†ä¸Šä¼ åˆ° OSS æ ¹ç›®å½•ï¼Œä¿æŒåŸæ–‡ä»¶å `demo.png`ã€‚

#### ç¤ºä¾‹ 2: æŒ‡å®šç›®æ ‡ç›®å½•

```json
{
  "filePath": "/Users/jason/screenshots/demo.png",
  "targetDir": "images/2024/01"
}
```

æ–‡ä»¶å°†ä¸Šä¼ åˆ° `images/2024/01/demo.png`ã€‚

#### ç¤ºä¾‹ 3: è‡ªå®šä¹‰æ–‡ä»¶å

```json
{
  "filePath": "/Users/jason/screenshots/demo.png",
  "targetDir": "avatars",
  "fileName": "user-avatar.png"
}
```

æ–‡ä»¶å°†ä¸Šä¼ åˆ° `avatars/user-avatar.png`ã€‚

#### ç¤ºä¾‹ 4: ä½¿ç”¨æŒ‡å®šé…ç½®

```json
{
  "filePath": "/Users/jason/backup.zip",
  "targetDir": "backups",
  "configName": "backup"
}
```

ä½¿ç”¨åä¸º `backup` çš„ OSS é…ç½®ä¸Šä¼ æ–‡ä»¶ã€‚

### é”™è¯¯å¤„ç†

| é”™è¯¯ç±»å‹ | é”™è¯¯ä¿¡æ¯ | è§£å†³æ–¹æ¡ˆ |
|----------|----------|----------|
| æ–‡ä»¶ä¸å­˜åœ¨ | `æ–‡ä»¶ä¸å­˜åœ¨: /path/to/file` | æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡® |
| é…ç½®ä¸å­˜åœ¨ | `æœªæ‰¾åˆ°é…ç½®: xxx` | ä½¿ç”¨ `list_oss_configs` æŸ¥çœ‹å¯ç”¨é…ç½® |
| ä¸Šä¼ å¤±è´¥ | `ä¸Šä¼ å¤±è´¥: xxx` | æ£€æŸ¥ OSS é…ç½®å’Œç½‘ç»œè¿æ¥ |

### æ³¨æ„äº‹é¡¹

1. `filePath` å¿…é¡»æ˜¯**ç»å¯¹è·¯å¾„**
2. `targetDir` ä¸éœ€è¦ä»¥ `/` å¼€å¤´æˆ–ç»“å°¾ï¼Œä¼šè‡ªåŠ¨å¤„ç†
3. ä¸Šä¼ æˆåŠŸåè¿”å›çš„ URL æ˜¯å…¬å¼€è®¿é—®åœ°å€ï¼ˆéœ€ç¡®ä¿ Bucket æƒé™è®¾ç½®æ­£ç¡®ï¼‰

---

## list_oss_configs

åˆ—å‡ºå½“å‰å¯ç”¨çš„æ‰€æœ‰ OSS é…ç½®åç§°ã€‚

### åŸºæœ¬ä¿¡æ¯

| å±æ€§ | å€¼ |
|------|-----|
| å·¥å…·åç§° | `list_oss_configs` |
| æè¿° | åˆ—å‡ºå¯ç”¨çš„é˜¿é‡Œäº‘OSSé…ç½® |
| æºç ä½ç½® | [src/server.ts:112](../src/server.ts#L112) |

### å‚æ•°

æ— å‚æ•°ã€‚

### è¿”å›å€¼

**æœ‰é…ç½®æ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "å¯ç”¨çš„OSSé…ç½®:\n- default\n- test\n- backup"
  }]
}
```

**æ— é…ç½®æ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "æœªæ‰¾åˆ°OSSé…ç½®ã€‚è¯·æ£€æŸ¥ç¯å¢ƒå˜é‡è®¾ç½®ã€‚"
  }]
}
```

### ä½¿ç”¨ç¤ºä¾‹

ç›´æ¥è°ƒç”¨å³å¯ï¼Œæ— éœ€ä»»ä½•å‚æ•°ï¼š

```json
{}
```

### é…ç½®æ¥æº

é…ç½®é€šè¿‡ä»¥ä¸‹æ–¹å¼å®šä¹‰ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š

1. **CLI å‚æ•°**: `--oss-config='{"default":{...}}'`
2. **ç¯å¢ƒå˜é‡**: `OSS_CONFIG_DEFAULT`, `OSS_CONFIG_TEST` ç­‰
3. **.env æ–‡ä»¶**: åŒç¯å¢ƒå˜é‡æ ¼å¼

### é…ç½®æ ¼å¼

æ¯ä¸ªé…ç½®éœ€è¦åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```json
{
  "region": "oss-cn-hangzhou",
  "accessKeyId": "your-access-key-id",
  "accessKeySecret": "your-access-key-secret",
  "bucket": "your-bucket-name",
  "endpoint": "oss-cn-hangzhou.aliyuncs.com"
}
```

---

## batch_rename_files

æ ¹æ®è‡ªç„¶è¯­è¨€æè¿°æ‰¹é‡é‡å‘½åæ–‡ä»¶ã€‚AI ä¼šç†è§£ä½ çš„é‡å‘½åæ„å›¾ï¼Œç”Ÿæˆé‡å‘½åè§„åˆ™å¹¶æ‰§è¡Œã€‚

### åŸºæœ¬ä¿¡æ¯

| å±æ€§ | å€¼ |
|------|-----|
| å·¥å…·åç§° | `batch_rename_files` |
| æè¿° | æ ¹æ®è‡ªç„¶è¯­è¨€æè¿°æ‰¹é‡é‡å‘½åæ–‡ä»¶ |
| æºç ä½ç½® | [src/server.ts:148](../src/server.ts#L148) |

### å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| `directory` | `string` | âœ… æ˜¯ | - | è¦æ“ä½œçš„ç›®å½•è·¯å¾„ |
| `renameRules` | `array` | âœ… æ˜¯ | - | é‡å‘½åè§„åˆ™æ•°ç»„ |
| `renameRules[].oldName` | `string` | âœ… æ˜¯ | - | åŸæ–‡ä»¶å |
| `renameRules[].newName` | `string` | âœ… æ˜¯ | - | æ–°æ–‡ä»¶å |
| `dryRun` | `boolean` | âŒ å¦ | `false` | é¢„è§ˆæ¨¡å¼ï¼Œä¸º true æ—¶åªè¿”å›å°†è¦æ‰§è¡Œçš„æ“ä½œ |

### è¿”å›å€¼

**æˆåŠŸæ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "æ‰¹é‡é‡å‘½åå®Œæˆ:\n\næˆåŠŸ: 3 ä¸ª, å¤±è´¥: 0 ä¸ª\n\nè¯¦ç»†ç»“æœ:\nâœ… icon_home.png â†’ home-icon.png\nâœ… icon_user.png â†’ user-icon.png\nâœ… icon_settings.png â†’ settings-icon.png"
  }]
}
```

**é¢„è§ˆæ¨¡å¼**:
```json
{
  "content": [{
    "type": "text",
    "text": "ã€é¢„è§ˆæ¨¡å¼ã€‘ä»¥ä¸‹æ˜¯å°†è¦æ‰§è¡Œçš„é‡å‘½åæ“ä½œ:\n\næˆåŠŸ: 3 ä¸ª, å¤±è´¥: 0 ä¸ª\n\nè¯¦ç»†ç»“æœ:\nâœ… icon_home.png â†’ home-icon.png\n..."
  }]
}
```

**éƒ¨åˆ†å¤±è´¥æ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "æ‰¹é‡é‡å‘½åå®Œæˆ:\n\næˆåŠŸ: 2 ä¸ª, å¤±è´¥: 1 ä¸ª\n\nè¯¦ç»†ç»“æœ:\nâœ… icon_home.png â†’ home-icon.png\nâŒ icon_old.png â†’ new-icon.png (æºæ–‡ä»¶ä¸å­˜åœ¨)"
  }]
}
```

### ä½¿ç”¨ç¤ºä¾‹

#### ç¤ºä¾‹ 1: åŸºç¡€æ‰¹é‡é‡å‘½å

ç”¨æˆ·è¯´ï¼šã€ŒæŠŠè¿™äº› icon å¼€å¤´çš„æ–‡ä»¶æ”¹æˆ svg-icon å¼€å¤´ã€

AI è°ƒç”¨ï¼š
```json
{
  "directory": "/Users/jason/design/icons",
  "renameRules": [
    { "oldName": "icon_home.png", "newName": "svg-icon-home.png" },
    { "oldName": "icon_user.png", "newName": "svg-icon-user.png" },
    { "oldName": "icon_settings.png", "newName": "svg-icon-settings.png" }
  ]
}
```

#### ç¤ºä¾‹ 2: é¢„è§ˆæ¨¡å¼ï¼ˆå…ˆçœ‹æ•ˆæœå†æ‰§è¡Œï¼‰

```json
{
  "directory": "/Users/jason/design/icons",
  "renameRules": [
    { "oldName": "btn-submit.png", "newName": "button-submit.png" },
    { "oldName": "btn-cancel.png", "newName": "button-cancel.png" }
  ],
  "dryRun": true
}
```

#### ç¤ºä¾‹ 3: è®¾è®¡ç¨¿å¯¼å‡ºæ–‡ä»¶é‡å‘½å

ç”¨æˆ·è¯´ï¼šã€Œè¿™äº›ä» Figma å¯¼å‡ºçš„å›¾ç‰‡ï¼ŒæŠŠ @2x åç¼€å»æ‰ã€

AI è°ƒç”¨ï¼š
```json
{
  "directory": "/Users/jason/exports",
  "renameRules": [
    { "oldName": "logo@2x.png", "newName": "logo.png" },
    { "oldName": "banner@2x.png", "newName": "banner.png" },
    { "oldName": "avatar@2x.png", "newName": "avatar.png" }
  ]
}
```

### é”™è¯¯å¤„ç†

| é”™è¯¯ç±»å‹ | é”™è¯¯ä¿¡æ¯ | è§£å†³æ–¹æ¡ˆ |
|----------|----------|----------|
| ç›®å½•ä¸å­˜åœ¨ | `ç›®å½•ä¸å­˜åœ¨: /path/to/dir` | æ£€æŸ¥ç›®å½•è·¯å¾„æ˜¯å¦æ­£ç¡® |
| è·¯å¾„ä¸æ˜¯ç›®å½• | `è·¯å¾„ä¸æ˜¯ç›®å½•: /path/to/file` | ç¡®ä¿ä¼ å…¥çš„æ˜¯ç›®å½•è€Œéæ–‡ä»¶ |
| æºæ–‡ä»¶ä¸å­˜åœ¨ | `æºæ–‡ä»¶ä¸å­˜åœ¨` | å…ˆç”¨ `list_directory_files` æŸ¥çœ‹å®é™…æ–‡ä»¶å |
| ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨ | `ç›®æ ‡æ–‡ä»¶åå·²å­˜åœ¨` | ä¿®æ”¹æ–°æ–‡ä»¶åé¿å…å†²çª |

### æ³¨æ„äº‹é¡¹

1. **å»ºè®®å…ˆç”¨é¢„è§ˆæ¨¡å¼**ï¼šè®¾ç½® `dryRun: true` ç¡®è®¤æ“ä½œæ— è¯¯åå†å®é™…æ‰§è¡Œ
2. **é…åˆ list_directory_files ä½¿ç”¨**ï¼šå…ˆæŸ¥çœ‹ç›®å½•æ–‡ä»¶åˆ—è¡¨ï¼Œå†ç”Ÿæˆé‡å‘½åè§„åˆ™
3. ä¸ä¼šé€’å½’å¤„ç†å­ç›®å½•ï¼Œåªå¤„ç†æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶
4. é‡å‘½åæ“ä½œæ˜¯åŸå­çš„ï¼Œå•ä¸ªæ–‡ä»¶å¤±è´¥ä¸å½±å“å…¶ä»–æ–‡ä»¶

### å…¸å‹å·¥ä½œæµ

1. ç”¨æˆ·æä¾›ç›®å½•è·¯å¾„å’Œé‡å‘½åæ„å›¾ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰
2. AI è°ƒç”¨ `list_directory_files` æŸ¥çœ‹å½“å‰æ–‡ä»¶
3. AI æ ¹æ®ç”¨æˆ·æ„å›¾ç”Ÿæˆ `renameRules`
4. AI å…ˆç”¨ `dryRun: true` é¢„è§ˆç»“æœ
5. ç”¨æˆ·ç¡®è®¤åï¼ŒAI æ‰§è¡Œå®é™…é‡å‘½å

---

## list_directory_files

åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œé€šå¸¸é…åˆ `batch_rename_files` ä½¿ç”¨ã€‚

### åŸºæœ¬ä¿¡æ¯

| å±æ€§ | å€¼ |
|------|-----|
| å·¥å…·åç§° | `list_directory_files` |
| æè¿° | åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ |
| æºç ä½ç½® | [src/server.ts:228](../src/server.ts#L228) |

### å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| `directory` | `string` | âœ… æ˜¯ | - | è¦æŸ¥çœ‹çš„ç›®å½•è·¯å¾„ |
| `pattern` | `string` | âŒ å¦ | - | æ–‡ä»¶åè¿‡æ»¤æ¨¡å¼ï¼Œæ”¯æŒ `*` å’Œ `?` é€šé…ç¬¦ |

### è¿”å›å€¼

**æˆåŠŸæ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "ç›®å½•: /Users/jason/icons\nå…± 5 ä¸ªé¡¹ç›®:\n\nğŸ“ svg/\nğŸ“„ icon_home.png (2.3KB)\nğŸ“„ icon_user.png (1.8KB)\nğŸ“„ icon_settings.png (2.1KB)\nğŸ“„ logo.png (15.2KB)"
  }]
}
```

**å¸¦è¿‡æ»¤æ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "ç›®å½•: /Users/jason/icons\nè¿‡æ»¤: icon_*\nå…± 3 ä¸ªé¡¹ç›®:\n\nğŸ“„ icon_home.png (2.3KB)\nğŸ“„ icon_user.png (1.8KB)\nğŸ“„ icon_settings.png (2.1KB)"
  }]
}
```

**ç©ºç›®å½•æ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "ç›®å½• /Users/jason/empty ä¸‹æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡ä»¶"
  }]
}
```

### ä½¿ç”¨ç¤ºä¾‹

#### ç¤ºä¾‹ 1: åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶

```json
{
  "directory": "/Users/jason/design/exports"
}
```

#### ç¤ºä¾‹ 2: åªçœ‹ PNG æ–‡ä»¶

```json
{
  "directory": "/Users/jason/design/exports",
  "pattern": "*.png"
}
```

#### ç¤ºä¾‹ 3: åªçœ‹ icon å¼€å¤´çš„æ–‡ä»¶

```json
{
  "directory": "/Users/jason/design/icons",
  "pattern": "icon_*"
}
```

#### ç¤ºä¾‹ 4: åªçœ‹ @2x ç»“å°¾çš„æ–‡ä»¶

```json
{
  "directory": "/Users/jason/design/exports",
  "pattern": "*@2x.*"
}
```

### æ”¯æŒçš„é€šé…ç¬¦

| é€šé…ç¬¦ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `*` | åŒ¹é…ä»»æ„å­—ç¬¦ï¼ˆ0ä¸ªæˆ–å¤šä¸ªï¼‰ | `*.png` åŒ¹é…æ‰€æœ‰ PNG æ–‡ä»¶ |
| `?` | åŒ¹é…å•ä¸ªå­—ç¬¦ | `icon_?.png` åŒ¹é… `icon_1.png` |

### é”™è¯¯å¤„ç†

| é”™è¯¯ç±»å‹ | é”™è¯¯ä¿¡æ¯ | è§£å†³æ–¹æ¡ˆ |
|----------|----------|----------|
| ç›®å½•ä¸å­˜åœ¨ | `ç›®å½•ä¸å­˜åœ¨: /path/to/dir` | æ£€æŸ¥ç›®å½•è·¯å¾„æ˜¯å¦æ­£ç¡® |
| è·¯å¾„ä¸æ˜¯ç›®å½• | `è·¯å¾„ä¸æ˜¯ç›®å½•: /path/to/file` | ç¡®ä¿ä¼ å…¥çš„æ˜¯ç›®å½•è€Œéæ–‡ä»¶ |

### æ³¨æ„äº‹é¡¹

1. è‡ªåŠ¨è¿‡æ»¤éšè—æ–‡ä»¶ï¼ˆä»¥ `.` å¼€å¤´çš„æ–‡ä»¶ï¼‰
2. è¿”å›ç»“æœæŒ‰ç±»å‹æ’åºï¼šç›®å½•åœ¨å‰ï¼Œæ–‡ä»¶åœ¨å
3. æ˜¾ç¤ºæ–‡ä»¶å¤§å°ï¼Œè‡ªåŠ¨è½¬æ¢å•ä½ï¼ˆB/KB/MBï¼‰
4. ä¸é€’å½’åˆ—å‡ºå­ç›®å½•å†…å®¹

---

## download_file

ä» URL ä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°ç›®å½•ã€‚æ”¯æŒ HTTP/HTTPS é“¾æ¥ã€‚

### åŸºæœ¬ä¿¡æ¯

| å±æ€§ | å€¼ |
|------|-----|
| å·¥å…·åç§° | `download_file` |
| æè¿° | ä» URL ä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°ç›®å½• |
| æºç ä½ç½® | [src/server.ts:371](../src/server.ts#L371) |

### å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| `url` | `string` | âœ… æ˜¯ | - | è¦ä¸‹è½½çš„æ–‡ä»¶ URL |
| `targetDir` | `string` | âœ… æ˜¯ | - | ä¿å­˜æ–‡ä»¶çš„æœ¬åœ°ç›®å½•è·¯å¾„ |
| `fileName` | `string` | âŒ å¦ | ä» URL æå– | ä¿å­˜çš„æ–‡ä»¶å |

### è¿”å›å€¼

**æˆåŠŸæ—¶**:
```json
{
  "content": [{
    "type": "text",
    "text": "æ–‡ä»¶ä¸‹è½½æˆåŠŸ!\næºURL: https://example.com/image.png\nä¿å­˜è·¯å¾„: /Users/jason/downloads/image.png\næ–‡ä»¶å¤§å°: 256.5KB"
  }]
}
```

**å¤±è´¥æ—¶**:
```json
{
  "isError": true,
  "content": [{
    "type": "text",
    "text": "ä¸‹è½½å¤±è´¥: ä¸‹è½½å¤±è´¥ï¼ŒHTTP çŠ¶æ€ç : 404"
  }]
}
```

### ä½¿ç”¨ç¤ºä¾‹

#### ç¤ºä¾‹ 1: åŸºç¡€ä¸‹è½½

```json
{
  "url": "https://example.com/assets/logo.png",
  "targetDir": "/Users/jason/downloads"
}
```

æ–‡ä»¶å°†ä¿å­˜ä¸º `/Users/jason/downloads/logo.png`ã€‚

#### ç¤ºä¾‹ 2: è‡ªå®šä¹‰æ–‡ä»¶å

```json
{
  "url": "https://example.com/assets/logo.png",
  "targetDir": "/Users/jason/downloads",
  "fileName": "company-logo.png"
}
```

æ–‡ä»¶å°†ä¿å­˜ä¸º `/Users/jason/downloads/company-logo.png`ã€‚

#### ç¤ºä¾‹ 3: ä¸‹è½½åˆ°æ–°ç›®å½•

```json
{
  "url": "https://cdn.example.com/fonts/roboto.woff2",
  "targetDir": "/Users/jason/project/assets/fonts"
}
```

å¦‚æœç›®å½•ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºã€‚

### é”™è¯¯å¤„ç†

| é”™è¯¯ç±»å‹ | é”™è¯¯ä¿¡æ¯ | è§£å†³æ–¹æ¡ˆ |
|----------|----------|----------|
| è·¯å¾„ä¸æ˜¯ç›®å½• | `è·¯å¾„ä¸æ˜¯ç›®å½•: /path/to/file` | ç¡®ä¿ targetDir æ˜¯ç›®å½•è·¯å¾„ |
| æ–‡ä»¶å·²å­˜åœ¨ | `æ–‡ä»¶å·²å­˜åœ¨: /path/to/file` | åˆ é™¤å·²æœ‰æ–‡ä»¶æˆ–ä½¿ç”¨ä¸åŒæ–‡ä»¶å |
| HTTP é”™è¯¯ | `ä¸‹è½½å¤±è´¥ï¼ŒHTTP çŠ¶æ€ç : xxx` | æ£€æŸ¥ URL æ˜¯å¦æœ‰æ•ˆã€æ˜¯å¦æœ‰è®¿é—®æƒé™ |
| ä¸‹è½½è¶…æ—¶ | `ä¸‹è½½è¶…æ—¶ï¼ˆ60ç§’ï¼‰` | æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œæˆ–å°è¯•è¾ƒå°çš„æ–‡ä»¶ |

### æ³¨æ„äº‹é¡¹

1. æ”¯æŒ HTTP å’Œ HTTPS åè®®
2. è‡ªåŠ¨å¤„ç† 301/302 é‡å®šå‘
3. å¦‚æœç›®æ ‡ç›®å½•ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º
4. é»˜è®¤è¶…æ—¶æ—¶é—´ä¸º 60 ç§’
5. å¦‚æœ URL ä¸­æ²¡æœ‰æ–‡ä»¶åï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ `download_<æ—¶é—´æˆ³>` æ ¼å¼çš„æ–‡ä»¶å
6. ä¸ä¼šè¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¼šæŠ¥é”™æç¤º

### å…¸å‹ä½¿ç”¨åœºæ™¯

1. **ä¸‹è½½è®¾è®¡èµ„æº**: ä» Figmaã€è“æ¹–ç­‰å¹³å°ä¸‹è½½å¯¼å‡ºçš„å›¾ç‰‡
2. **ä¸‹è½½ä¾èµ–æ–‡ä»¶**: ä¸‹è½½å­—ä½“ã€å›¾æ ‡åº“ç­‰é™æ€èµ„æº
3. **é…åˆä¸Šä¼ ä½¿ç”¨**: å…ˆä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¤„ç†åå†ç”¨ `upload_to_oss` ä¸Šä¼ 

---

## æ·»åŠ æ–°å·¥å…·æŒ‡å—

å½“ä½ éœ€è¦æ·»åŠ æ–°çš„ MCP å·¥å…·æ—¶ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### 1. åœ¨ `src/server.ts` ä¸­æ³¨å†Œå·¥å…·

åœ¨ `registerTools()` æ–¹æ³•ä¸­æ·»åŠ ï¼š

```typescript
this.server.tool(
  "tool_name",           // å·¥å…·åç§° (snake_case)
  "å·¥å…·æè¿°",             // ç®€çŸ­æè¿°
  {
    // ä½¿ç”¨ Zod å®šä¹‰å‚æ•°
    param1: z.string().describe("å‚æ•°1æè¿°"),
    param2: z.number().optional().describe("å‚æ•°2æè¿°ï¼ˆå¯é€‰ï¼‰"),
  },
  async ({ param1, param2 }) => {
    // å®ç°é€»è¾‘
    try {
      // ...
      return {
        content: [{
          type: "text",
          text: "æˆåŠŸä¿¡æ¯"
        }]
      };
    } catch (error) {
      return {
        isError: true,
        content: [{
          type: "text",
          text: `å¤±è´¥: ${error}`
        }]
      };
    }
  }
);
```

### 2. æ›´æ–°æœ¬æ–‡æ¡£

åœ¨æœ¬æ–‡æ¡£ä¸­æ·»åŠ æ–°å·¥å…·çš„è¯´æ˜ï¼ŒåŒ…æ‹¬ï¼š

- [ ] æ·»åŠ åˆ°ç›®å½•
- [ ] åŸºæœ¬ä¿¡æ¯è¡¨æ ¼
- [ ] å‚æ•°è¡¨æ ¼
- [ ] è¿”å›å€¼ç¤ºä¾‹
- [ ] ä½¿ç”¨ç¤ºä¾‹
- [ ] é”™è¯¯å¤„ç†
- [ ] æ³¨æ„äº‹é¡¹

### 3. æ›´æ–° README

å¦‚æœ‰å¿…è¦ï¼Œåœ¨ `README.md` ä¸­æ›´æ–°å·¥å…·åˆ—è¡¨ã€‚

---

## ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´ |
|------|------|------|
| 1.2.0 | 2025-02 | æ–°å¢ `download_file` å·¥å…· |
| 1.1.0 | 2025-02 | æ–°å¢ `batch_rename_files` å’Œ `list_directory_files` å·¥å…· |
| 1.0.0 | 2024-01 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å« `upload_to_oss` å’Œ `list_oss_configs` |
